%h1.mb-4 提案一覧

.d-flex.gap-2.mb-4
  = link_to "グループに戻る", group_path(@group), class: "btn btn-secondary"
  - if policy(Proposal.new(group: @group, user: current_user)).create?
    = link_to "新規提案作成", new_group_proposal_path(@group), class: "btn btn-primary"

- if @proposals.any?
  .row
    - @proposals.each do |proposal|
      .col-md-6.col-lg-4.mb-3
        .card
          .card-body
            %h5.card-title= proposal.title
            %p.card-text.text-muted
              = proposal.content
            %p.card-text
              %small.text-muted
                作成者: #{proposal.user.email}
                %br
                ステータス:
                - case proposal.status
                - when 'pending'
                  %span.badge.bg-warning 保留中
                - when 'approved'
                  %span.badge.bg-success 承認済み
                - when 'rejected'
                  %span.badge.bg-danger 却下
            .mt-3
              = link_to "詳細", group_proposal_path(@group, proposal), class: "btn btn-sm btn-outline-primary"
- else
  .alert.alert-info
    まだ提案がありません。

